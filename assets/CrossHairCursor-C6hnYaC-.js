import{r as l}from"./index-CTzypqlY.js";import{d as p,e as k,g,C as v}from"./withSize-Bqu-aQP_.js";const X=(y,t)=>{const{xScale:a,xAccessor:r,currentItem:o,mouseXY:s}=t,{snapX:i}=y;return i?Math.round(a(r(o))):s[0]+.5};class n extends l.Component{constructor(){super(...arguments),this.drawOnCanvas=(t,a)=>{const r=this.getLines(this.props,a);if(r===void 0)return;const{margin:o,ratio:s}=this.context,i=.5*s+o.left,d=.5*s+o.top;t.save(),t.setTransform(1,0,0,1,0,0),t.scale(s,s),t.translate(i,d),r.forEach(e=>{const h=p(e.strokeDasharray);t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash(h),t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke()}),t.restore()},this.getLines=(t,a)=>{const{mouseXY:r,currentItem:o,show:s,height:i,width:d}=a,{customX:e=n.defaultProps.customX,strokeStyle:h=n.defaultProps.strokeStyle,strokeDasharray:u,strokeWidth:c=n.defaultProps.strokeWidth}=t;if(!s||o===void 0)return;const f={x1:0,x2:d,y1:r[1]+.5,y2:r[1]+.5,strokeStyle:h,strokeDasharray:u,strokeWidth:c},m=e(t,a);return[f,{x1:m,x2:m,y1:0,y2:i,strokeStyle:h,strokeDasharray:u,strokeWidth:c}]}}render(){return l.createElement(k,{clip:!1,canvasDraw:this.drawOnCanvas,canvasToDraw:g,drawOn:["mousemove","pan","drag"]})}}n.defaultProps={customX:X,snapX:!0,strokeStyle:"rgba(55, 71, 79, 0.8)",strokeDasharray:"Dash",strokeWidth:1};n.contextType=v;export{n as C};
