import{r as e}from"./index-CTzypqlY.js";import{w as b}from"./withOHLCData-BEr55ucm.js";import{l as H,q as O,C as ae,w as D,m as T,a as se,t as ie,n as ne,r as ce,o as M,X as L,Y as R}from"./withSize-Bqu-aQP_.js";import{d as le}from"./discontinuousTimeScaleProvider-DjLVsG-0.js";import{e as V}from"./ema-CshB59i3.js";import{e as me,E as pe}from"./ElderRaySeries-BNmjGCcw.js";import{B as de}from"./BarSeries-CMNobAzD.js";import{C as he}from"./CandlestickSeries-CTmIVn2R.js";import{L as X}from"./LineSeries-5eeGgUw4.js";import{C as Z}from"./CurrentCoordinate-BMWnhbga.js";import{M as $}from"./MouseCoordinateY-B1fOyXbI.js";import{E as ue}from"./EdgeIndicator-17zBkVdX.js";import{M as fe}from"./MovingAverageTooltip-Cv3tPqNG.js";import{O as ye}from"./OHLCTooltip-BzsHFzDc.js";import{M as ge}from"./MouseCoordinateX-BVdS_xjN.js";import{S as Ee}from"./SingleValueTooltip-CQ4GxCuA.js";import{C as Se}from"./CrossHairCursor-C6hnYaC-.js";import"./jsx-runtime-D_zvdyIk.js";import"./baseIndicator-qdS_KWkb.js";import"./index-kspPnZk0.js";import"./ema-YsYnLjx4.js";import"./defaultOptionsForComputation-CN7nWbKN.js";import"./path-uFnBsLuY.js";import"./merge-WqXt2Bz7.js";import"./slidingWindow-Zblwndst.js";import"./functor-Bsi8uwFK.js";import"./mean-DHO-D6Gx.js";import"./zip-Irq_DN6l.js";import"./StackedBarSeries-C1rjxMaO.js";import"./group-CTbjIu5X.js";import"./array-2GBN5xbU.js";import"./barWidth-H00B5QnB.js";import"./StraightLine-BDDeJkOw.js";import"./ToolTipTSpanLabel-D8pipyNG.js";class N extends e.Component{constructor(){super(...arguments),this.handleZoomIn=()=>{this.interval||this.zoom(-1)},this.handleZoomOut=()=>{this.interval||this.zoom(1)},this.handleReset=()=>{const{onReset:r}=this.props,{xAxisZoom:l,plotData:m,xAccessor:t,originalXExtents:p}=this.context;if(r)r();else if(l&&p)l(p);else if(l&&m&&t){const o=m[0],a=H(m);if(o&&a){const s=t(o),h=t(a);l([s,h])}}},this.zoom=r=>{const{xAxisZoom:l,xScale:m,plotData:t,xAccessor:p}=this.context;if(!l||!m||!t||t.length===0||!p)return;const o=m,a=o(p(H(t))),{zoomMultiplier:s}=this.props,h=r>0?1*s:1/s,[n,i]=o.domain(),[d,f]=o.range().map(E=>a+(E-a)*h).map(o.invert),u=O(n,d),w=O(i,f),C=[.25,.3,.5,.6,.75,1].map(E=>[u(E),w(E)]);this.interval=window.setInterval(()=>{l(C.shift()),C.length===0&&(clearInterval(this.interval),delete this.interval)},10)}}render(){const{width:r,height:l}=this.context,{heightFromBase:m,r:t,fill:p,fillOpacity:o,stroke:a,strokeWidth:s,textFill:h}=this.props,n=Math.round(r/2),i=l-m,d=n-16-t*2,f=n-8,u=n+16+t*2;return e.createElement("g",{className:"react-financial-charts-zoom-buttons"},e.createElement("circle",{className:"react-financial-charts-button",cx:d-t/2,cy:i+t/2,fill:p,fillOpacity:o,stroke:a,strokeWidth:s,r:t}),e.createElement("g",{transform:`translate (${d-20}, ${i-8+t/4})`},e.createElement("path",{d:"M19,13H5V11H19V13Z",fill:h})),e.createElement("circle",{className:"react-financial-charts-button",cx:f-t/2,cy:i+t/2,fill:p,fillOpacity:o,stroke:a,strokeWidth:s,r:t}),e.createElement("g",{transform:`translate (${f-20}, ${i-8+t/4})`},e.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z",fill:h})),e.createElement("circle",{className:"react-financial-charts-button",cx:u-t/2,cy:i+t/2,fill:p,fillOpacity:o,stroke:a,strokeWidth:s,r:t}),e.createElement("g",{transform:`translate (${u-t}, ${i-4+t/4})`},e.createElement("path",{d:"M2.35 2.35A7.958 7.958 0 018 0a8 8 0 110 16c-3.73 0-6.84-2.55-7.73-6h2.08c.82 2.33 3.04 4 5.65 4A6 6 0 108 2c-1.66 0-3.14.69-4.22 1.78L7 7H0V0l2.35 2.35z",fill:h})),e.createElement("circle",{className:"react-financial-charts-enable-interaction out",onClick:this.handleZoomOut,cx:d-t/2,cy:i+t/2,r:t,fill:"none"}),e.createElement("circle",{className:"react-financial-charts-enable-interaction in",onClick:this.handleZoomIn,cx:f-t/2,cy:i+t/2,r:t,fill:"none"}),e.createElement("circle",{className:"react-financial-charts-enable-interaction reset",onClick:this.handleReset,cx:u-t/2,cy:i+t/2,r:t,fill:"none"}))}}N.defaultProps={fill:"#ffffff",fillOpacity:.75,heightFromBase:32,r:16,stroke:"#e0e3eb",strokeWidth:1,textFill:"#000000",zoomMultiplier:1.5};N.contextType=ae;class S extends e.Component{constructor(){super(...arguments),this.margin={left:0,right:48,top:0,bottom:24},this.pricesDisplayFormat=se(".2f"),this.xScaleProvider=le().inputDateAccessor(r=>r.date),this.barChartExtents=r=>r.volume,this.candleChartExtents=r=>[r.high,r.low],this.yEdgeIndicator=r=>r.close,this.volumeColor=r=>r.close>r.open?"rgba(38, 166, 154, 0.3)":"rgba(239, 83, 80, 0.3)",this.volumeSeries=r=>r.volume,this.openCloseColor=r=>r.close>r.open?"#26a69a":"#ef5350"}render(){const{data:r,dateTimeFormat:l="%d %b",height:m,ratio:t,width:p}=this.props,o=V().id(1).options({windowSize:12}).merge((c,y)=>{c.ema12=y}).accessor(c=>c.ema12),a=V().id(2).options({windowSize:26}).merge((c,y)=>{c.ema26=y}).accessor(c=>c.ema26),s=me(),h=s(a(o(r))),{margin:n,xScaleProvider:i}=this,{data:d,xScale:f,xAccessor:u,displayXAccessor:w}=i(h),C=u(d[d.length-1]),Q=[u(d[Math.max(0,d.length-100)]),C+5],z=m-n.top-n.bottom,x=100,ee=(c,y)=>[0,y-x],I=z/4,te=(c,y)=>[0,y-I-x],re=z-x,oe=ie(l);return e.createElement(ne,{height:m,ratio:t,width:p,margin:n,data:d,displayXAccessor:w,seriesName:"Data",xScale:f,xAccessor:u,xExtents:Q,zoomAnchor:ce},e.createElement(M,{id:2,height:I,origin:te,yExtents:this.barChartExtents},e.createElement(de,{fillStyle:this.volumeColor,yAccessor:this.volumeSeries})),e.createElement(M,{id:3,height:re,yExtents:this.candleChartExtents},e.createElement(L,{showGridLines:!0,showTicks:!1,showTickLabel:!1}),e.createElement(R,{showGridLines:!0,tickFormat:this.pricesDisplayFormat}),e.createElement(he,null),e.createElement(X,{yAccessor:a.accessor(),strokeStyle:a.stroke()}),e.createElement(Z,{yAccessor:a.accessor(),fillStyle:a.stroke()}),e.createElement(X,{yAccessor:o.accessor(),strokeStyle:o.stroke()}),e.createElement(Z,{yAccessor:o.accessor(),fillStyle:o.stroke()}),e.createElement($,{rectWidth:n.right,displayFormat:this.pricesDisplayFormat}),e.createElement(ue,{itemType:"last",rectWidth:n.right,fill:this.openCloseColor,lineStroke:this.openCloseColor,displayFormat:this.pricesDisplayFormat,yAccessor:this.yEdgeIndicator}),e.createElement(fe,{origin:[8,24],options:[{yAccessor:a.accessor(),type:"EMA",stroke:a.stroke(),windowSize:a.options().windowSize},{yAccessor:o.accessor(),type:"EMA",stroke:o.stroke(),windowSize:o.options().windowSize}]}),e.createElement(N,null),e.createElement(ye,{origin:[8,16]})),e.createElement(M,{id:4,height:x,yExtents:[0,s.accessor()],origin:ee,padding:{top:8,bottom:8}},e.createElement(L,{showGridLines:!0,gridLinesStrokeStyle:"#e0e3eb"}),e.createElement(R,{ticks:4,tickFormat:this.pricesDisplayFormat}),e.createElement(ge,{displayFormat:oe}),e.createElement($,{rectWidth:n.right,displayFormat:this.pricesDisplayFormat}),e.createElement(pe,{yAccessor:s.accessor()}),e.createElement(Ee,{yAccessor:s.accessor(),yLabel:"Elder Ray",yDisplayFormat:c=>`${this.pricesDisplayFormat(c.bullPower)}, ${this.pricesDisplayFormat(c.bearPower)}`,origin:[8,16]})),e.createElement(Se,null))}}const K=b()(D()(T()(S))),v=b("MINUTES")(D()(T()(S))),A=b("SECONDS")(D()(T()(S)));try{S.displayName="StockChart",S.__docgenInfo={description:"",displayName:"StockChart",props:{dateTimeFormat:{defaultValue:null,description:"",name:"dateTimeFormat",required:!1,type:{name:"string | undefined"}}}}}catch{}try{componentDidMount.displayName="componentDidMount",componentDidMount.__docgenInfo={description:"Called immediately after a component is mounted. Setting state here will trigger re-rendering.",displayName:"componentDidMount",props:{}}}catch{}try{v.displayName="MinutesStockChart",v.__docgenInfo={description:"",displayName:"MinutesStockChart",props:{dateTimeFormat:{defaultValue:null,description:"",name:"dateTimeFormat",required:!1,type:{name:"string | undefined"}}}}}catch{}try{A.displayName="SecondsStockChart",A.__docgenInfo={description:"",displayName:"SecondsStockChart",props:{dateTimeFormat:{defaultValue:null,description:"",name:"dateTimeFormat",required:!1,type:{name:"string | undefined"}}}}}catch{}const et={component:K,title:"Features/Full Screen"},k=()=>e.createElement(K,null),_=()=>e.createElement(v,{dateTimeFormat:"%H:%M"}),F=()=>e.createElement(A,{dateTimeFormat:"%H:%M:%S"});var W,B,P;k.parameters={...k.parameters,docs:{...(W=k.parameters)==null?void 0:W.docs,source:{originalSource:"() => <StockChart />",...(P=(B=k.parameters)==null?void 0:B.docs)==null?void 0:P.source}}};var q,G,Y;_.parameters={..._.parameters,docs:{...(q=_.parameters)==null?void 0:q.docs,source:{originalSource:'() => <MinutesStockChart dateTimeFormat="%H:%M" />',...(Y=(G=_.parameters)==null?void 0:G.docs)==null?void 0:Y.source}}};var U,j,J;F.parameters={...F.parameters,docs:{...(U=F.parameters)==null?void 0:U.docs,source:{originalSource:'() => <SecondsStockChart dateTimeFormat="%H:%M:%S" />',...(J=(j=F.parameters)==null?void 0:j.docs)==null?void 0:J.source}}};const tt=["daily","minutes","seconds"];export{tt as __namedExportsOrder,k as daily,et as default,_ as minutes,F as seconds};
