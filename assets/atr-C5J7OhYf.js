import{A as a}from"./defaultOptionsForComputation-CN7nWbKN.js";import{s as l}from"./slidingWindow-Zblwndst.js";function f(r,i){let n=0;for(let t of r)(t=+t)&&(n+=t);return n}function p(){let r=a,i=t=>({open:t.open,high:t.high,low:t.low,close:t.close});const n=t=>{const{windowSize:s}=r,h=l().windowSize(2).source(i).undefinedValue(o=>o.high-o.low).accumulator(o=>{const u=o[0],e=o[1];return Math.max(e.high-e.low,e.high-u.close,e.low-u.close)});let c;return l().skipInitial(1).windowSize(s).accumulator(o=>{const u=o[o.length-1],e=c!==void 0?(c*(s-1)+u)/s:f(o)/s;return c=e,e})(h(t))};return n.undefinedLength=()=>{const{windowSize:t}=r;return t-1},n.options=t=>t===void 0?r:(r=Object.assign(Object.assign({},a),t),n),n.source=t=>t===void 0?i:(i=t,n),n}export{p as a};
