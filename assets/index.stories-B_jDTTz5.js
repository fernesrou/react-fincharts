import{r as s}from"./index-CTzypqlY.js";import{C as N}from"./CandlestickSeries-DFbIB3SJ.js";import{w as I}from"./withOHLCData-BEr55ucm.js";import{b as v,r as _}from"./baseIndicator-qdS_KWkb.js";import{m as H}from"./mappedSlidingWindow-CUioMVN6.js";import{m as O}from"./merge-WqXt2Bz7.js";import{w as M,m as b,n as P,o as T,X as z,Y as X}from"./withSize-Bqu-aQP_.js";import{d as Y}from"./discontinuousTimeScaleProvider-DjLVsG-0.js";import{C as $}from"./CandlestickSeries-CTmIVn2R.js";import"./group-CTbjIu5X.js";import"./index-kspPnZk0.js";import"./barWidth-H00B5QnB.js";import"./functor-Bsi8uwFK.js";import"./jsx-runtime-D_zvdyIk.js";function j(){let i=a=>a;const r=a=>H().windowSize(2).undefinedValue(({open:t,high:e,low:m,close:o})=>(o=(t+e+m+o)/4,{open:t,high:e,low:m,close:o})).accumulator(([t,e])=>{const{date:m,volume:o}=e,l=(e.open+e.high+e.low+e.close)/4,n=(t.open+t.close)/2,u=Math.max(n,e.high,l),h=Math.min(n,e.low,l);return{date:m,open:n,high:u,low:h,close:l,volume:o}})(a);return r.source=a=>a===void 0?i:(i=a,r),r}const f="HeikinAshi";function B(){const i=v().type(f).accessor(t=>t.ha),r=j(),a=O().algorithm(r).merge((t,e)=>Object.assign(Object.assign({},t),e)),c=(t,e={merge:!0})=>{if(e.merge){if(!i.accessor())throw new Error(`Set an accessor to ${f} before calculating`);return a(t)}return r(t)};return _(c,i,"accessor","stroke","fill","echo","type"),_(c,a,"merge"),c}class k extends s.Component{constructor(){super(...arguments),this.margin={left:0,right:40,top:0,bottom:24},this.xScaleProvider=Y().inputDateAccessor(r=>r.date),this.yExtents=r=>[r.high,r.low]}render(){const{data:r,height:a,ratio:c,width:t}=this.props,m=B()(r),{data:o,xScale:l,xAccessor:n,displayXAccessor:u}=this.xScaleProvider(m),h=n(o[o.length-1]),w=[n(o[Math.max(0,o.length-100)]),h];return s.createElement(P,{height:a,ratio:c,width:t,margin:this.margin,data:o,displayXAccessor:u,seriesName:"Data",xScale:l,xAccessor:n,xExtents:w},s.createElement(T,{id:1,yExtents:this.yExtents},s.createElement($,null),s.createElement(z,null),s.createElement(X,null)))}}const g=I()(M()(b()(k))),y=I("MINUTES")(M()(b()(k)));try{g.displayName="Daily",g.__docgenInfo={description:"",displayName:"Daily",props:{}}}catch{}try{componentDidMount.displayName="componentDidMount",componentDidMount.__docgenInfo={description:"Called immediately after a component is mounted. Setting state here will trigger re-rendering.",displayName:"componentDidMount",props:{}}}catch{}try{y.displayName="Intraday",y.__docgenInfo={description:"",displayName:"Intraday",props:{}}}catch{}const ae={component:N,title:"Visualization/Series/Heikin Ashi"},d=()=>s.createElement(g,null),p=()=>s.createElement(y,null);var x,E,S;d.parameters={...d.parameters,docs:{...(x=d.parameters)==null?void 0:x.docs,source:{originalSource:"() => <Daily />",...(S=(E=d.parameters)==null?void 0:E.docs)==null?void 0:S.source}}};var D,A,C;p.parameters={...p.parameters,docs:{...(D=p.parameters)==null?void 0:D.docs,source:{originalSource:"() => <Intraday />",...(C=(A=p.parameters)==null?void 0:A.docs)==null?void 0:C.source}}};const oe=["daily","intraday"];export{oe as __namedExportsOrder,d as daily,ae as default,p as intraday};
