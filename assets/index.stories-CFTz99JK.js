import{r as x}from"./index-CTzypqlY.js";import{j as E}from"./jsx-runtime-D_zvdyIk.js";import{ag as fe,ah as st,ai as Ge,$ as ot,H as I,F as U,aj as ye,ak as Je,w as it,m as rt,n as lt,o as ct,X as ut,Y as dt,al as ht,r as mt,am as pt}from"./withSize-Bqu-aQP_.js";import{w as ft}from"./withOHLCData-BEr55ucm.js";import{d as gt}from"./discontinuousTimeScaleProvider-DjLVsG-0.js";import{C as vt}from"./CandlestickSeries-CTmIVn2R.js";import"./group-CTbjIu5X.js";import"./index-kspPnZk0.js";import"./barWidth-H00B5QnB.js";const re=s=>s;function bt(){let s=re;function n(){const t=arguments.length;if(t===0)return[];const a=fe(arguments,e)??0,o=new Array(a);for(let i=-1;++i<a;){for(let r=-1,l=o[i]=new Array(t);++r<t;)l[r]=arguments[r][i];o[i]=s.apply(this,o[i])}return o}function e(t){return t.length}return n.combine=function(t){return arguments.length?(s=t,n):s},n}const he=(s,n,e)=>{let t=0,a=s.length-1;for(;a-t>1;){const r=Math.round((t+a)/2),l=s[r];e(l)<=n?t=r:a=r}const o=e(s[t]),i=e(s[a]);return(o==null?void 0:o.valueOf())===(n==null?void 0:n.valueOf())&&(a=t),(i==null?void 0:i.valueOf())===(n==null?void 0:n.valueOf())&&(t=a),o<n&&i<n&&(t=a),o>n&&i>n&&(a=t),{left:t,right:a}},Ct=(s,n,e)=>{const{left:t,right:a}=he(s,n,e);if(t===a)return s[t];const o=e(s[t]),i=e(s[a]);return Math.abs(o.valueOf()-n.valueOf())<Math.abs(i.valueOf()-n.valueOf())?s[t]:s[a]},le=(s,n)=>{if(s===n)return!0;if(!(s instanceof Object)||!(n instanceof Object))return!1;const e=Object.keys(s),t=e.length;for(let a=0;a<t;a++)if(!(e[a]in n))return!1;for(let a=0;a<t;a++)if(s[e[a]]!==n[e[a]])return!1;return t===Object.keys(n).length},ce=s=>typeof s=="function"?s:()=>s;function V(s){return s&&(s.ownerDocument&&s.ownerDocument.defaultView||s.document&&s||s.defaultView)}const Pe="mouseenter.interaction",xe="mouseleave.interaction",z="mousemove.pan",N="mouseup.pan",$="touchmove.pan",G="touchend.pan touchcancel.pan";function J(s){return{pageX:s.pageX,pageY:s.pageY,clientX:s.clientX,clientY:s.clientY}}function w(s,n){if(n&&s){let e;for(let t=0;t<s.length;t++)if(e=s[t],F(n(e)))return e;return}return s?s[0]:void 0}function M(s,n){const e=s?s.length:0;return e?s[e-1]:void 0}const F=s=>s!=null;function ge(s){return!F(s)}function yt(s){return F(s)&&typeof s=="object"&&!Array.isArray(s)}function K(s,n){const e=n.currentTarget,t=e.getBoundingClientRect(),a=s.clientX-t.left-e.clientLeft,o=s.clientY-t.top-e.clientTop;return[Math.round(a),Math.round(o)]}function Q(s,n){const e=s.currentTarget,t=n??e.getBoundingClientRect(),a=s.clientX-t.left-e.clientLeft,o=s.clientY-t.top-e.clientTop;return[Math.round(a),Math.round(o)]}function ue(s,n){s.forEach(e=>{e.setTransform(1,0,0,1,0,0),e.clearRect(-1,-1,e.canvas.width+2,e.canvas.height+2),e.scale(n,n)})}function Pt(s={},n=e=>e){const e=Object.keys(s),t=new Array(e.length);return e.forEach((a,o)=>{t[o]=n(s[a],a,s)}),t}const Se={flipYScale:!1,id:0,origin:[0,0],padding:0,yPan:!0,yPanEnabled:!1,yScale:ot()};function xt({width:s,height:n},e){const t=e.height||n;return{availableHeight:n,width:s,height:t}}function St(s){return n=>{const e=s(n);return yt(e)?Pt(e):e}}function Ee(s){if(Array.isArray(s)&&s.length===2){const[n,e]=s;return typeof n=="number"&&typeof e=="number"}return!1}const Et=s=>!(s===void 0||s.id===void 0);function Ke(s,n,e=[]){return x.Children.map(n,t=>{if(!t||!Et(t.props))return;const a={...Se,...t.props},{id:o,origin:i,padding:r,yExtents:l,yScale:c=Se.yScale,flipYScale:u,yExtentsCalculator:h}=a,d=c.copy(),{width:m,height:g,availableHeight:f}=xt(s,a),{yPan:v}=a;let{yPanEnabled:p}=a;const C=l?(Array.isArray(l)?l:[l]).map(ce):void 0,b=e.find(P=>P.id===o);if(Ee(l))if(b&&b.yPan&&b.yPanEnabled&&v&&p&&le(b.originalYExtentsProp,l))d.domain(b.yScale.domain());else{const[P,y]=l;d.domain([P,y])}else b&&b.yPanEnabled&&(Ee(b.originalYExtentsProp)||(d.domain(b.yScale.domain()),p=!0));return{id:o,origin:ce(i)(m,f),padding:r,originalYExtentsProp:l,yExtents:C,yExtentsCalculator:h,flipYScale:u,yScale:d,yPan:v,yPanEnabled:p,width:m,height:g}}).filter(t=>t!==void 0)}function R(s,n){return s.filter(t=>{const a=t.origin[1],o=a+t.height;return n[1]>a&&n[1]<o}).map(t=>t.id)}function Dt(s,n,e,t){if(s.rangeRoundPoints||ge(s.invert)){if(isNaN(e))throw new Error("padding has to be a number for ordinal scale");s.rangeRoundPoints&&s.rangeRoundPoints(t?[0,n]:[n,0],e),s.rangeRound&&s.range(t?[0,n]:[n,0]).padding(e)}else{const{top:a,bottom:o}=isNaN(e)?e:{top:e,bottom:e};s.range(t?[a,n-o]:[n-o,a])}return s}function Mt(s,n,e){const t=s.map(i=>e.map(St(i))),a=st(t);return n.invert?Ge(a):[...new Set(a).values()]}function H(s,{plotData:n,xAccessor:e,displayXAccessor:t,fullData:a},o,i,r){const l=s.map(({yExtentsCalculator:h,yExtents:d,yScale:m})=>{const g=h?h({plotData:n,xDomain:o,xAccessor:e,displayXAccessor:t,fullData:a}):Mt(d,m,n),f=i!==void 0?m.range().map(v=>v-i).map(m.invert):m.domain();return{realYDomain:g,yDomainDY:f,prevYDomain:m.domain()}});return bt().combine((h,{realYDomain:d,yDomainDY:m,prevYDomain:g})=>{const{id:f,padding:v,height:p,yScale:C,yPan:b,flipYScale:P,yPanEnabled:y=!1}=h,S=r!==void 0?r.indexOf(f)>-1:!0,D=b&&y?S?m:g:d,A=Dt(C.copy().domain(D),p,v,P);return{...h,yScale:A,realYDomain:d}})(s,l)}function k(s,n,e,t){let a,o;if(s.invert)a=s.invert(e[0]),o=Ct(t,a,n);else{const i=s.range().map((r,l)=>({x:Math.abs(r-e[0]),idx:l})).reduce((r,l)=>r.x<l.x?r:l);o=i!==void 0?t[i.idx]:t[0]}return o}const wt=s=>{const{xScale:n,xAccessor:e,mouseXY:t,plotData:a}=s,o=k(n,e,t,a);return e(o)},be=class be extends x.Component{constructor(n){super(n),this.dx=0,this.dy=0,this.mouseInside=!1,this.mouseInteraction=!0,this.ref=x.createRef(),this.handleEnter=e=>{const{onMouseEnter:t}=this.props;if(t!==void 0){if(this.mouseInside=!0,!this.state.panInProgress&&!this.state.dragInProgress){const a=V(this.ref.current);I(a).on(z,this.handleMouseMove)}t(e)}},this.handleLeave=e=>{const{onMouseLeave:t}=this.props;if(t!==void 0){if(this.mouseInside=!1,!this.state.panInProgress&&!this.state.dragInProgress){const a=V(this.ref.current);I(a).on(z,null)}t(e)}},this.handleWheel=e=>{const{pan:t,onPan:a,zoom:o,onZoom:i}=this.props;if(!t&&!o)return;const{panInProgress:r}=this.state,l=Math.abs(e.deltaY)>Math.abs(e.deltaX)&&Math.abs(e.deltaY)>0,c=Q(e);if(e.preventDefault(),o&&this.focus&&l&&!r){const u=e.deltaY>0?1:-1;i!==void 0&&i(u,c,e)}else if(this.focus){if(this.shouldPan()&&this.state.panStart!==void 0){const{panStartXScale:u,chartsToPan:h}=this.state.panStart;this.lastNewPos=c,this.panHappened=!0,this.dx===void 0&&(this.dx=0),this.dy===void 0&&(this.dy=0),this.dx-=e.deltaX,this.dy+=e.deltaY;const d={dx:this.dx,dy:this.dy};a!==void 0&&a(c,u,d,h,e)}else{const{xScale:u,chartConfig:h}=this.props,d=R(h,c);this.dx=0,this.dy=0,this.setState({panInProgress:!0,panStart:{panStartXScale:u,panOrigin:c,chartsToPan:d}})}this.queuePanEnd(e)}},this.handleMouseMove=e=>{const{onMouseMove:t,mouseMove:a}=this.props;if(t!==void 0&&this.mouseInteraction&&a&&!this.state.panInProgress){const o=U(e,this.ref.current);t(o,"mouse",e)}},this.handleClick=e=>{const t=Q(e),{onClick:a,onDoubleClick:o}=this.props;!this.panHappened&&!this.dragHappened&&(this.clicked&&o!==void 0?(o(t,e),this.clicked=!1):a!==void 0&&(a(t,e),this.clicked=!0,setTimeout(()=>{this.clicked&&(this.clicked=!1)},400)))},this.handleRightClick=e=>{e.stopPropagation(),e.preventDefault();const{onContextMenu:t,onPanEnd:a}=this.props,o=Q(e,this.ref.current.getBoundingClientRect());if(this.state.panStart!==void 0){const{panStartXScale:i,panOrigin:[r,l],chartsToPan:c}=this.state.panStart;this.panHappened&&a!==void 0&&a(o,i,{dx:r,dy:l},c,e);const u=V(this.ref.current);I(u).on(z,null).on(N,null),this.setState({panInProgress:!1,panStart:void 0})}t!==void 0&&t(o,e)},this.handleDrag=e=>{const{onDrag:t}=this.props;if(t===void 0)return;this.dragHappened=!0;const{dragStartPosition:a}=this.state;if(a===void 0)return;const o=U(e,this.ref.current);t({startPos:a,mouseXY:o},e)},this.handleDragEnd=e=>{const t=U(e,this.ref.current),a=V(this.ref.current);if(I(a).on(z,this.mouseInside?this.handleMouseMove:null).on(N,null),this.dragHappened){const{onDragComplete:o}=this.props;o!==void 0&&o({mouseXY:t},e)}this.setState({dragInProgress:!1}),this.mouseInteraction=!0},this.canPan=()=>{const{getAllPanConditions:e}=this.props,{pan:t}=this.props,{panEnabled:a,draggable:o}=e().reduce((i,r)=>({draggable:i.draggable||r.draggable,panEnabled:i.panEnabled&&r.panEnabled}),{draggable:!1,panEnabled:t});return{panEnabled:a,somethingSelected:o}},this.handleMouseDown=e=>{if(e.button!==0)return;const{xScale:t,chartConfig:a,onMouseDown:o}=this.props;if(this.panHappened=!1,this.dragHappened=!1,this.focus=!0,!this.state.panInProgress&&this.mouseInteraction){const i=Q(e),r=R(a,i),{panEnabled:l,somethingSelected:c}=this.canPan(),u=l&&!c;if(u){this.setState({panInProgress:u,panStart:{panStartXScale:t,panOrigin:i,chartsToPan:r}});const h=V(this.ref.current);I(h).on(z,this.handlePan).on(N,this.handlePanEnd)}else if(c){this.setState({panInProgress:!1,dragInProgress:!0,panStart:void 0,dragStartPosition:i});const{onDragStart:h}=this.props;h!==void 0&&h({startPos:i},e);const d=V(this.ref.current);I(d).on(z,this.handleDrag).on(N,this.handleDragEnd)}o!==void 0&&o(i,r,e)}e.preventDefault()},this.shouldPan=()=>{const{pan:e,onPan:t}=this.props;return e&&t&&this.state.panStart!==void 0},this.handlePan=e=>{if(this.shouldPan()&&this.state.panStart!==void 0){this.panHappened=!0;const{panStartXScale:t,panOrigin:a,chartsToPan:o}=this.state.panStart;let i,r,l;this.mouseInteraction?(l=U(e,this.ref.current),this.lastNewPos=l,i=l[0]-a[0],r=l[1]-a[1]):(l=ye(e,this.ref.current)[0],this.lastNewPos=l,i=a[0]-l[0],r=a[1]-l[1]),this.dx=i,this.dy=r;const{onPan:c}=this.props;c!==void 0&&c(l,t,{dx:i,dy:r},o,e)}},this.handlePanEnd=e=>{const{pan:t,onPanEnd:a}=this.props;if(this.state.panStart!==void 0){const{panStartXScale:o,chartsToPan:i}=this.state.panStart,r=V(this.ref.current);if(I(r).on(z,this.mouseInside?this.handleMouseMove:null).on(N,null).on($,null).on(G,null),this.panHappened&&t&&a){const{dx:l=0,dy:c=0}=this;delete this.dx,delete this.dy,this.lastNewPos!==void 0&&a(this.lastNewPos,o,{dx:l,dy:c},i,e)}this.setState({panInProgress:!1,panStart:void 0})}},this.handleTouchMove=e=>{const{onMouseMove:t}=this.props;if(t===void 0)return;const a=J(e.touches[0]),o=K(a,e);t(o,"touch",e)},this.handleTouchStart=e=>{this.mouseInteraction=!1;const{pan:t,chartConfig:a,onMouseMove:o,xScale:i,onPanEnd:r}=this.props;if(e.touches.length===1){this.panHappened=!1;const l=K(J(e.touches[0]),e);if(o!==void 0&&o(l,"touch",e),t){const c=R(a,l);this.setState({panInProgress:!0,panStart:{panStartXScale:i,panOrigin:l,chartsToPan:c}});const u=V(this.ref.current);I(u).on($,this.handlePan,!1).on(G,this.handlePanEnd,!1)}}else if(e.touches.length===2){const{panInProgress:l,panStart:c}=this.state;if(l&&t&&r&&c!==void 0){const{panStartXScale:u,panOrigin:[h,d],chartsToPan:m}=c,g=V(this.ref.current);I(g).on(z,this.mouseInside?this.handleMouseMove:null).on(N,null).on($,this.handlePinchZoom,!1).on(G,this.handlePinchZoomEnd,!1);const f=K(J(e.touches[0]),e),v=K(J(e.touches[1]),e);this.panHappened&&t&&r&&this.lastNewPos!==void 0&&r(this.lastNewPos,u,{dx:h,dy:d},m,e),this.setState({panInProgress:!1,pinchZoomStart:{xScale:i,touch1Pos:f,touch2Pos:v,range:i.range(),chartsToPan:m}})}}},this.handlePinchZoom=e=>{const{pinchZoomStart:t}=this.state;if(t===void 0)return;const{xScale:a,zoom:o,onPinchZoom:i}=this.props;if(!o||i===void 0)return;const[r,l]=ye(this.ref.current),{chartsToPan:c,...u}=t;i(u,{touch1Pos:r,touch2Pos:l,xScale:a},e)},this.handlePinchZoomEnd=e=>{const t=V(this.ref.current);I(t).on($,null).on(G,null);const{pinchZoomStart:a}=this.state;if(a===void 0)return;const{chartsToPan:o,...i}=a,{zoom:r,onPinchZoomEnd:l}=this.props;r&&l&&l(i,e),this.setState({pinchZoomStart:void 0})},this.setCursorClass=e=>{e!==this.state.cursorOverrideClass&&this.setState({cursorOverrideClass:e===null?void 0:e})},this.focus=n.focus,this.state={panInProgress:!1}}componentDidMount(){const{disableInteraction:n}=this.props,{current:e}=this.ref;e!==null&&(n||(I(e).on(Pe,this.handleEnter).on(xe,this.handleLeave),e.addEventListener("wheel",this.handleWheel,{passive:!1})))}componentDidUpdate(){this.componentDidMount()}componentWillUnmount(){const{disableInteraction:n}=this.props,{current:e}=this.ref;if(e!==null&&!n){I(e).on(Pe,null).on(xe,null);const t=V(e);I(t).on(z,null),e.removeEventListener("wheel",this.handleWheel,{passive:!1})}}queuePanEnd(n){this.panEndTimeout!==void 0&&window.clearTimeout(this.panEndTimeout),this.panEndTimeout=window.setTimeout(()=>{this.handlePanEnd(n)},100)}cancelDrag(){const n=V(this.ref.current);I(n).on(z,this.mouseInside?this.handleMouseMove:null).on(N,null),this.setState({dragInProgress:!1}),this.mouseInteraction=!0}render(){const{height:n,width:e,disableInteraction:t,useCrossHairStyleCursor:a}=this.props,o=t?void 0:this.state.cursorOverrideClass!==void 0?this.state.cursorOverrideClass:a?this.state.panInProgress?"react-financial-charts-grabbing-cursor":"react-financial-charts-crosshair-cursor":void 0,i=t?void 0:{onMouseDown:this.handleMouseDown,onClick:this.handleClick,onContextMenu:this.handleRightClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove};return E.jsx("rect",{ref:this.ref,className:o,width:e,height:n,style:{opacity:0},...i})}};be.defaultProps={mouseMove:!1,zoom:!1,pan:!1,panSpeedMultiplier:1,focus:!1,disableInteraction:!1};let L=be;try{L.displayName="EventCapture",L.__docgenInfo={description:"",displayName:"EventCapture",props:{mouseMove:{defaultValue:{value:"false"},description:"",name:"mouseMove",required:!1,type:{name:"boolean"}},zoom:{defaultValue:{value:"false"},description:"",name:"zoom",required:!1,type:{name:"boolean"}},pan:{defaultValue:{value:"false"},description:"",name:"pan",required:!1,type:{name:"boolean"}},panSpeedMultiplier:{defaultValue:{value:"1"},description:"",name:"panSpeedMultiplier",required:!1,type:{name:"number"}},focus:{defaultValue:{value:"false"},description:"",name:"focus",required:!1,type:{name:"boolean"}},useCrossHairStyleCursor:{defaultValue:null,description:"",name:"useCrossHairStyleCursor",required:!1,type:{name:"boolean | undefined"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},chartConfig:{defaultValue:null,description:"",name:"chartConfig",required:!0,type:{name:"ChartConfig[]"}},xAccessor:{defaultValue:null,description:"",name:"xAccessor",required:!0,type:{name:"any"}},xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"ScaleContinuousNumeric<number, number, never> | ScaleTime<number, number, never>"}},disableInteraction:{defaultValue:{value:"false"},description:"",name:"disableInteraction",required:!1,type:{name:"boolean"}},getAllPanConditions:{defaultValue:null,description:"",name:"getAllPanConditions",required:!0,type:{name:"() => { panEnabled: boolean; draggable: boolean; }[]"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"((mouseXY: number[], event: MouseEvent<Element, MouseEvent>) => void) | undefined"}},onContextMenu:{defaultValue:null,description:"",name:"onContextMenu",required:!1,type:{name:"((mouseXY: number[], event: MouseEvent<Element, MouseEvent>) => void) | undefined"}},onDoubleClick:{defaultValue:null,description:"",name:"onDoubleClick",required:!1,type:{name:"((mouseXY: number[], event: MouseEvent<Element, MouseEvent>) => void) | undefined"}},onDragStart:{defaultValue:null,description:"",name:"onDragStart",required:!1,type:{name:"((details: { startPos: number[]; }, event: MouseEvent<Element, MouseEvent>) => void) | undefined"}},onDrag:{defaultValue:null,description:"",name:"onDrag",required:!1,type:{name:"((details: { startPos: [number, number]; mouseXY: [number, number]; }, event: MouseEvent<Element, MouseEvent>) => void) | undefined"}},onDragComplete:{defaultValue:null,description:"",name:"onDragComplete",required:!1,type:{name:"((details: { mouseXY: number[]; }, event: MouseEvent<Element, MouseEvent>) => void) | undefined"}},onMouseDown:{defaultValue:null,description:"",name:"onMouseDown",required:!1,type:{name:"((mouseXY: [number, number], currentCharts: string[], event: MouseEvent<Element, MouseEvent>) => void) | undefined"}},onMouseMove:{defaultValue:null,description:"",name:"onMouseMove",required:!1,type:{name:"((touchXY: [number, number], eventType: string, event: MouseEvent<Element, MouseEvent> | TouchEvent<Element>) => void) | undefined"}},onMouseEnter:{defaultValue:null,description:"",name:"onMouseEnter",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void) | undefined"}},onMouseLeave:{defaultValue:null,description:"",name:"onMouseLeave",required:!1,type:{name:"((event: MouseEvent<Element, MouseEvent>) => void) | undefined"}},onPinchZoom:{defaultValue:null,description:"",name:"onPinchZoom",required:!1,type:{name:"((initialPinch: { readonly xScale: ScaleContinuousNumeric<number, number, never> | ScaleTime<number, number, never>; readonly touch1Pos: [number, number]; readonly touch2Pos: [...]; readonly range: number[]; }, currentPinch: { ...; }, e: TouchEvent<...>) => void) | undefined"}},onPinchZoomEnd:{defaultValue:null,description:"",name:"onPinchZoomEnd",required:!1,type:{name:"((initialPinch: { readonly xScale: ScaleContinuousNumeric<number, number, never> | ScaleTime<number, number, never>; readonly touch1Pos: [number, number]; readonly touch2Pos: [...]; readonly range: number[]; }, e: TouchEvent<...>) => void) | undefined"}},onPan:{defaultValue:null,description:"",name:"onPan",required:!1,type:{name:"((mouseXY: [number, number], panStartXScale: ScaleContinuousNumeric<number, number, never> | ScaleTime<number, number, never>, panOrigin: { ...; }, chartsToPan: string[], e: MouseEvent<...>) => void) | undefined"}},onPanEnd:{defaultValue:null,description:"",name:"onPanEnd",required:!1,type:{name:"((mouseXY: [number, number], panStartXScale: ScaleContinuousNumeric<number, number, never> | ScaleTime<number, number, never>, panOrigin: { ...; }, chartsToPan: string[], e: MouseEvent<...> | TouchEvent<...>) => void) | undefined"}},onZoom:{defaultValue:null,description:"",name:"onZoom",required:!1,type:{name:"((zoomDir: 1 | -1, mouseXY: number[], event: WheelEvent<Element>) => void) | undefined"}}}}}catch{}class me extends x.PureComponent{constructor(){super(...arguments),this.bgRef=x.createRef(),this.axesRef=x.createRef(),this.mouseRef=x.createRef()}getCanvasContexts(){var n,e,t;return{bg:((n=this.bgRef.current)==null?void 0:n.getContext("2d"))??void 0,axes:((e=this.axesRef.current)==null?void 0:e.getContext("2d"))??void 0,mouseCoord:((t=this.mouseRef.current)==null?void 0:t.getContext("2d"))??void 0}}render(){const{height:n,ratio:e,style:t,width:a}=this.props,o=a*e,i=n*e,r={position:"absolute",width:a,height:n};return E.jsxs("div",{style:{...t,position:"absolute"},children:[E.jsx("canvas",{ref:this.bgRef,width:o,height:i,style:r}),E.jsx("canvas",{ref:this.axesRef,width:o,height:i,style:r}),E.jsx("canvas",{ref:this.mouseRef,width:o,height:i,style:r})]})}}try{me.displayName="CanvasContainer",me.__docgenInfo={description:"",displayName:"CanvasContainer",props:{height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},ratio:{defaultValue:null,description:"",name:"ratio",required:!0,type:{name:"number"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties | undefined"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}}}}}catch{}function De(s,n,e,t){const{lastItem:a,lastItemX:o}=s,i=n(a),[r,l]=e.range();return(l-r)/(o.valueOf()-r)*(i.valueOf()-t.valueOf())+t.valueOf()}function It(s,n,e,t,a){function o(i,r,l,c,{currentPlotData:u,currentDomain:h,fallbackStart:d,fallbackEnd:m,ignoreThresholds:g=!1}={}){if(s)return{plotData:i,domain:r};let f=w(r),v=M(r),p=r,C=de(i,f,v,l);C.length===1&&d!==void 0&&(f=d,v=De(m,l,c,f),p=[f,v],C=de(i,f,v,l)),typeof n=="function"?p=n(p,[l(w(i)),l(M(i))]):((n==="left"||n==="both"||n===!0)&&(p=[Je([f,l(w(i))]),p[1]]),(n==="right"||n==="both"||n===!0)&&(p=[p[0],fe([v,l(M(i))])])),p!==r&&(C=de(i,p[0],p[1],l));const b=p,P=c.copy().domain(b);let y=Math.floor(P(l(M(C)))-P(l(w(C))));a&&y<0&&(y=y*-1);let S,D;const A=M(P.range())-w(P.range());if(g&&C.length>1||At(y,C.length,e,t))S=C,D=b;else if(A>ve(y,e)&&F(m)){S=C;const T=De(m,l,c,w(b));D=[w(b),T]}else S=u??C.slice(C.length-Vt(y,e)),D=h??[l(w(S)),l(M(S))];return{plotData:S,domain:D}}return{filterData:o}}function At(s,n,e,t){const a=Tt(s,t),o=ve(s,e);return n>=a&&n<o}function Tt(s,n){return Math.max(1,Math.ceil(s*n))}function ve(s,n){return Math.floor(s*n)}function Vt(s,n){return Math.floor(ve(s,n)*.97)}function de(s,n,e,t){const a=he(s,n,t).left,o=he(s,e,t).right;return s.slice(a,o+1)}function qt({xScale:s,useWholeData:n,clamp:e,pointsPerPxThreshold:t,minPointsPerPxThreshold:a,flipXScale:o}){return It(n||ge(s.invert),e,t,a,o)}const _t=["seriesName"],Xt=(s,n)=>!_t.every(e=>le(s[e],n[e])),zt=()=>E.jsx("style",{type:"text/css",children:`
	.react-financial-charts-grabbing-cursor {
		pointer-events: all;
		cursor: -moz-grabbing;
		cursor: -webkit-grabbing;
		cursor: grabbing;
	}
	.react-financial-charts-crosshair-cursor {
		pointer-events: all;
		cursor: crosshair;
	}
	.react-financial-charts-tooltip-hover {
		pointer-events: all;
		cursor: pointer;
	}
	.react-financial-charts-avoid-interaction {
		pointer-events: none;
	}
	.react-financial-charts-enable-interaction {
		pointer-events: all;
	}
	.react-financial-charts-tooltip {
		pointer-events: all;
		cursor: pointer;
	}
	.react-financial-charts-default-cursor {
		cursor: default;
	}
	.react-financial-charts-move-cursor {
		cursor: move;
	}
	.react-financial-charts-pointer-cursor {
		cursor: pointer;
	}
	.react-financial-charts-ns-resize-cursor {
		cursor: ns-resize;
	}
	.react-financial-charts-ew-resize-cursor {
		cursor: ew-resize;
	}`}),Y=()=>{},Zt={amIOnTop:()=>!1,chartConfigs:[],chartId:0,ratio:0,displayXAccessor:()=>0,fullData:[],generateSubscriptionId:()=>Math.random(),getMutableState:()=>({}),height:0,margin:{top:0,right:0,bottom:0,left:0},plotData:[],setCursorClass:Y,subscribe:Y,unsubscribe:Y,redraw:Y,width:0,xAccessor:()=>0,xScale:Y},Rt=x.createContext(Zt),j=s=>{const{margin:n,height:e,width:t}=s;return{height:e-n.top-n.bottom,width:t-n.left-n.right}},Qe=s=>s?-1:1,et=s=>{const{data:n,plotFull:e,xScale:t,clamp:a,pointsPerPxThreshold:o,flipXScale:i,xAccessor:r,displayXAccessor:l,minPointsPerPxThreshold:c}=s,u=e!==void 0?e:r===re,{filterData:h}=qt({xScale:t,useWholeData:u,clamp:a,pointsPerPxThreshold:o,minPointsPerPxThreshold:c,flipXScale:i});return{xAccessor:r,displayXAccessor:l??r,xScale:t.copy(),fullData:n,filterData:h}},Me=s=>{const n=Nt(s),{xAccessor:e,displayXAccessor:t,fullData:a,plotData:o,xScale:i,originalXExtents:r}=n,{postCalculator:l,children:c}=s,u=l!==void 0?l(o):o,h=j(s),d=H(Ke(h,c),{plotData:u,xAccessor:e,displayXAccessor:t,fullData:a},i.domain());return{...n,xScale:i,plotData:u,chartConfigs:d,originalXExtents:r}},Ot=(s,n,e,t,a)=>{const{fullData:o,xScale:i,xAccessor:r,displayXAccessor:l,filterData:c}=s,u=M(o),h=r(u),[d,m]=n.domain(),{postCalculator:g,children:f,padding:v,flipXScale:p,maintainPointsPerPixelOnResize:C}=e,b=Qe(p),P=j(e),y=tt(i,P,v,b);let S;if(!t||m>=h){const[T,_]=n.range(),[Z,X]=y.range(),O=(X-Z)/(_-T)*(m.valueOf()-d.valueOf()),nt=C?m.valueOf()-O:d,at=n(h),Ce=c(o,[nt,m],r,y,{fallbackStart:d,fallbackEnd:{lastItem:u,lastItemX:at}});S=Ce.plotData,y.domain(Ce.domain)}else if(t&&m<h){const T=n(h)-n.range()[1],[_,Z]=n.range().map(O=>O+T).map(O=>n.invert(O)),X=c(o,[_,Z],r,y);S=X.plotData,y.domain(X.domain)}const D=g(S),A=H(Ke(P,f,a),{plotData:D,xAccessor:r,displayXAccessor:l,fullData:o},y.domain());return{xScale:y,xAccessor:r,chartConfigs:A,plotData:D,fullData:o,filterData:c}},Nt=s=>{const{xAccessor:n,xExtents:e,data:t,padding:a,flipXScale:o}=s,i=Qe(o),r=j(s),l=typeof e=="function"?e(t):Ge(e.map(p=>ce(p)).map(p=>p(t,n))),{xAccessor:c,displayXAccessor:u,xScale:h,fullData:d,filterData:m}=et(s),g=tt(h,r,a,i),{plotData:f,domain:v}=m(d,l,n,g);return{plotData:f,xScale:g.domain(v),xAccessor:c,displayXAccessor:u,fullData:d,filterData:m,originalXExtents:l}},tt=(s,n,e,t=1)=>{if(s.rangeRoundPoints){if(isNaN(e))throw new Error("padding has to be a number for ordinal scale");s.rangeRoundPoints([0,n.width],e)}else if(s.padding){if(isNaN(e))throw new Error("padding has to be a number for ordinal scale");s.range([0,n.width]),s.padding(e/2)}else{const{left:a,right:o}=isNaN(e)?e:{left:e,right:e};t>0?s.range([a,n.width-o]):s.range([n.width-o,a])}return s},we=s=>{const{touch1Pos:n,touch2Pos:e}=s;return{topLeft:[Math.min(n[0],e[0]),Math.min(n[1],e[1])],bottomRight:[Math.max(n[0],e[0]),Math.max(n[1],e[1])]}},Ie=(s,n,e)=>!isNaN(s(n(w(e))))&&F(s.invert),q=class q extends x.Component{constructor(n){super(n),this.canvasContainerRef=x.createRef(),this.eventCaptureRef=x.createRef(),this.lastSubscriptionId=0,this.mutableState={mouseXY:[0,0],currentCharts:[],currentItem:null},this.panInProgress=!1,this.subscriptions=[],this.getMutableState=()=>this.mutableState,this.getCanvasContexts=()=>{var e;return(e=this.canvasContainerRef.current)==null?void 0:e.getCanvasContexts()},this.generateSubscriptionId=()=>(this.lastSubscriptionId++,this.lastSubscriptionId),this.subscribe=(e,t)=>{const{getPanConditions:a=ce({draggable:!1,panEnabled:!0})}=t;this.subscriptions=this.subscriptions.concat({id:e,...t,getPanConditions:a})},this.unsubscribe=e=>{this.subscriptions=this.subscriptions.filter(t=>t.id!==e)},this.getAllPanConditions=()=>this.subscriptions.map(e=>e.getPanConditions()),this.setCursorClass=e=>{var t;(t=this.eventCaptureRef.current)==null||t.setCursorClass(e)},this.amIOnTop=e=>{const t=this.subscriptions.filter(a=>a.getPanConditions().draggable);return t.length>0&&M(t).id===e},this.handleContextMenu=(e,t)=>{const{xAccessor:a,chartConfigs:o,plotData:i,xScale:r}=this.state,l=R(o,e),c=k(r,a,e,i);this.triggerEvent("contextmenu",{mouseXY:e,currentItem:c,currentCharts:l},t)},this.calculateStateForDomain=e=>{const{xAccessor:t,displayXAccessor:a,xScale:o,chartConfigs:i,plotData:r}=this.state,{filterData:l,fullData:c}=this.state,{postCalculator:u=q.defaultProps.postCalculator}=this.props,{plotData:h,domain:d}=l(c,e,t,o,{currentPlotData:r,currentDomain:o.domain()}),m=u(h),g=o.copy().domain(d),f=H(i,{plotData:m,xAccessor:t,displayXAccessor:a,fullData:c},g.domain());return{xScale:g,plotData:m,chartConfigs:f}},this.pinchZoomHelper=(e,t)=>{const{xScale:a}=e,{xScale:o,chartConfigs:i,plotData:r,xAccessor:l,displayXAccessor:c,filterData:u,fullData:h}=this.state,{postCalculator:d=q.defaultProps.postCalculator}=this.props,{topLeft:m,bottomRight:g}=we(e),{topLeft:f,bottomRight:v}=we(t),p=a.range()[1],C=Math.round(-(g[0]*f[0]-m[0]*v[0])/(m[0]-g[0])),b=Math.round(p+((p-g[0])*(p-f[0])-(p-m[0])*(p-v[0]))/(p-m[0]-(p-g[0]))),P=Math.round(-C*m[0]/(-C+f[0])),y=Math.round(p-(b-p)*(p-m[0])/(b+(p-f[0]))),S=[P,y].map(a.invert),{plotData:D,domain:A}=u(h,S,l,a,{currentPlotData:r,currentDomain:o.domain()}),T=d(D),_=o.copy().domain(A),Z=t.touch1Pos,X=H(i,{plotData:T,xAccessor:l,displayXAccessor:c,fullData:h},_.domain()),O=k(_,l,Z,T);return{chartConfigs:X,xScale:_,plotData:T,mouseXY:Z,currentItem:O,xAccessor:l,fullData:h}},this.handlePinchZoom=(e,t,a)=>{if(!this.waitingForPinchZoomAnimationFrame){this.waitingForPinchZoomAnimationFrame=!0;const o=this.pinchZoomHelper(e,t);this.triggerEvent("pinchzoom",o,a),this.finalPinch=t,requestAnimationFrame(()=>{this.clearBothCanvas(),this.draw({trigger:"pinchzoom"}),this.waitingForPinchZoomAnimationFrame=!1})}},this.handlePinchZoomEnd=(e,t)=>{const{xAccessor:a=q.defaultProps.xAccessor}=this.state;if(this.finalPinch){const o=this.pinchZoomHelper(e,this.finalPinch),{xScale:i,fullData:r}=o;this.triggerEvent("pinchzoom",o,t),this.finalPinch=void 0,this.clearThreeCanvas();const l=w(r),c=w(i.domain()),u=a(l),h=M(r),d=M(i.domain()),m=a(h),{onLoadAfter:g,onLoadBefore:f}=this.props;this.setState(o,()=>{c<u&&f!==void 0&&f(c,u),m<d&&g!==void 0&&g(m,d)})}},this.handleZoom=(e,t,a)=>{if(this.panInProgress)return;const{xAccessor:o,xScale:i,plotData:r,fullData:l}=this.state,{zoomMultiplier:c=q.defaultProps.zoomMultiplier,zoomAnchor:u=q.defaultProps.zoomAnchor}=this.props,h=u({xScale:i,xAccessor:o,mouseXY:t,plotData:r}),d=i(h),m=e>0?1*c:1/c,g=i.range().map(X=>d+(X-d)*m).map(X=>i.invert(X)),{xScale:f,plotData:v,chartConfigs:p}=this.calculateStateForDomain(g),C=k(f,o,t,v),b=R(p,t);this.clearThreeCanvas();const P=w(l),y=w(f.domain()),S=o(P),D=M(l),A=M(f.domain()),T=o(D);this.mutableState={mouseXY:t,currentItem:C,currentCharts:b},this.triggerEvent("zoom",{xScale:f,plotData:v,chartConfigs:p,mouseXY:t,currentCharts:b,currentItem:C,show:!0},a);const{onLoadAfter:_,onLoadBefore:Z}=this.props;this.setState({xScale:f,plotData:v,chartConfigs:p},()=>{y<S&&Z!==void 0&&Z(y,S),T<A&&_!==void 0&&_(T,A)})},this.xAxisZoom=e=>{const{xScale:t,plotData:a,chartConfigs:o}=this.calculateStateForDomain(e);this.clearThreeCanvas();const{xAccessor:i,fullData:r}=this.state,l=w(r),c=w(t.domain()),u=i(l),h=M(r),d=M(t.domain()),m=i(h),{onLoadAfter:g,onLoadBefore:f}=this.props;this.setState({xScale:t,plotData:a,chartConfigs:o},()=>{c<u&&f!==void 0&&f(c,u),m<d&&g!==void 0&&g(m,d)})},this.yAxisZoom=(e,t)=>{this.clearThreeCanvas();const{chartConfigs:a}=this.state,o=a.map(i=>{if(i.id===e){const{yScale:r}=i;return{...i,yScale:r.copy().domain(t),yPanEnabled:!0}}else return i});this.setState({chartConfigs:o})},this.draw=e=>{this.subscriptions.forEach(t=>{F(t.draw)&&t.draw(e)})},this.redraw=()=>{this.clearThreeCanvas(),this.draw({force:!0})},this.panHelper=(e,t,{dx:a,dy:o},i)=>{const{xAccessor:r,displayXAccessor:l,chartConfigs:c,filterData:u,fullData:h}=this.state,{postCalculator:d=q.defaultProps.postCalculator}=this.props,m=t.range().map(y=>y-a).map(y=>t.invert(y)),{plotData:g,domain:f}=u(h,m,r,t,{currentPlotData:this.hackyWayToStopPanBeyondBounds__plotData,currentDomain:this.hackyWayToStopPanBeyondBounds__domain,ignoreThresholds:!0}),v=t.copy().domain(f),p=d(g),C=k(v,r,e,p),b=H(c,{plotData:p,xAccessor:r,displayXAccessor:l,fullData:h},v.domain(),o,i),P=R(b,e);return{xScale:v,plotData:p,chartConfigs:b,mouseXY:e,currentCharts:P,currentItem:C}},this.handlePan=(e,t,a,o,i)=>{if(this.waitingForPanAnimationFrame)return;this.waitingForPanAnimationFrame=!0,this.hackyWayToStopPanBeyondBounds__plotData=this.hackyWayToStopPanBeyondBounds__plotData??this.state.plotData,this.hackyWayToStopPanBeyondBounds__domain=this.hackyWayToStopPanBeyondBounds__domain??this.state.xScale.domain();const r=this.panHelper(e,t,a,o);this.hackyWayToStopPanBeyondBounds__plotData=r.plotData,this.hackyWayToStopPanBeyondBounds__domain=r.xScale.domain(),this.panInProgress=!0,this.triggerEvent("pan",r,i),this.mutableState={mouseXY:r.mouseXY,currentItem:r.currentItem,currentCharts:r.currentCharts},requestAnimationFrame(()=>{this.waitingForPanAnimationFrame=!1,this.clearBothCanvas(),this.draw({trigger:"pan"})})},this.handlePanEnd=(e,t,a,o,i)=>{const r=this.panHelper(e,t,a,o);this.hackyWayToStopPanBeyondBounds__plotData=null,this.hackyWayToStopPanBeyondBounds__domain=null,this.panInProgress=!1;const{xScale:l,plotData:c,chartConfigs:u}=r;this.triggerEvent("panend",r,i),requestAnimationFrame(()=>{const{xAccessor:h,fullData:d}=this.state,m=w(d),g=w(l.domain()),f=h(m),v=M(d),p=M(l.domain()),C=h(v),{onLoadAfter:b,onLoadBefore:P}=this.props;this.clearThreeCanvas(),this.setState({xScale:l,plotData:c,chartConfigs:u},()=>{g<f&&P!==void 0&&P(g,f),C<p&&b!==void 0&&b(C,p)})})},this.handleMouseDown=(e,t,a)=>{this.triggerEvent("mousedown",this.mutableState,a)},this.handleMouseEnter=e=>{this.triggerEvent("mouseenter",{show:!0},e)},this.handleMouseMove=(e,t,a)=>{if(this.waitingForMouseMoveAnimationFrame)return;this.waitingForMouseMoveAnimationFrame=!0;const{chartConfigs:o,plotData:i,xScale:r,xAccessor:l}=this.state,c=R(o,e),u=k(r,l,e,i);this.triggerEvent("mousemove",{show:!0,mouseXY:e,prevMouseXY:this.prevMouseXY,currentItem:u,currentCharts:c},a),this.prevMouseXY=e,this.mutableState={mouseXY:e,currentItem:u,currentCharts:c},requestAnimationFrame(()=>{this.clearMouseCanvas(),this.draw({trigger:"mousemove"}),this.waitingForMouseMoveAnimationFrame=!1})},this.handleMouseLeave=e=>{this.triggerEvent("mouseleave",{show:!1},e),this.clearMouseCanvas(),this.draw({trigger:"mouseleave"})},this.handleDragStart=({startPos:e},t)=>{this.triggerEvent("dragstart",{startPos:e},t)},this.handleDrag=({startPos:e,mouseXY:t},a)=>{const{chartConfigs:o,plotData:i,xScale:r,xAccessor:l}=this.state,c=R(o,t),u=k(r,l,t,i);this.triggerEvent("drag",{startPos:e,mouseXY:t,currentItem:u,currentCharts:c},a),this.mutableState={mouseXY:t,currentItem:u,currentCharts:c},requestAnimationFrame(()=>{this.clearMouseCanvas(),this.draw({trigger:"drag"})})},this.handleDragEnd=({mouseXY:e},t)=>{this.triggerEvent("dragend",{mouseXY:e},t),requestAnimationFrame(()=>{this.clearMouseCanvas(),this.draw({trigger:"dragend"})})},this.handleClick=(e,t)=>{this.triggerEvent("click",this.mutableState,t),requestAnimationFrame(()=>{this.clearMouseCanvas(),this.draw({trigger:"click"})})},this.handleDoubleClick=(e,t)=>{this.triggerEvent("dblclick",{},t)},this.resetYDomain=e=>{const{chartConfigs:t}=this.state;let a=!1;const o=t.map(i=>(ge(e)||i.id===e)&&!le(i.yScale.domain(),i.realYDomain)?(a=!0,{...i,yScale:i.yScale.domain(i.realYDomain),yPanEnabled:!1}):i);a&&(this.clearThreeCanvas(),this.setState({chartConfigs:o}))},this.state=Me(n)}static getDerivedStateFromProps(n,e){var u;const{chartConfigs:t,plotData:a,xAccessor:o,xScale:i}=e,r=Ie(i,o,a),l=Xt(e.lastProps||{},n);let c;if(!r||l||!le((u=e.lastProps)==null?void 0:u.xExtents,n.xExtents))c=Me(n);else{const[h,d]=i.domain(),m=M(e.fullData),g=et(n),{xAccessor:f}=g,v=f(m),p=v<=d&&v>=h;c=Ot(g,i,n,p,t)}return{...c,lastProps:n,propIteration:(e.propIteration||0)+1}}getSnapshotBeforeUpdate(n,e){return e.propIteration!==this.state.propIteration&&!this.panInProgress&&this.clearThreeCanvas(),null}componentDidUpdate(n){n.data!==this.props.data&&this.triggerEvent("dataupdated",{chartConfigs:this.state.chartConfigs,xScale:this.state.xScale,plotData:this.state.plotData})}clearBothCanvas(){const n=this.getCanvasContexts();n&&n.axes&&n.mouseCoord&&ue([n.axes,n.mouseCoord],this.props.ratio)}clearMouseCanvas(){const n=this.getCanvasContexts();n&&n.mouseCoord&&ue([n.mouseCoord],this.props.ratio)}clearThreeCanvas(){const n=this.getCanvasContexts();n&&n.axes&&n.mouseCoord&&n.bg&&ue([n.axes,n.mouseCoord,n.bg],this.props.ratio)}cancelDrag(){var n;(n=this.eventCaptureRef.current)==null||n.cancelDrag(),this.triggerEvent("dragcancel")}triggerEvent(n,e,t){this.subscriptions.forEach(a=>{const o={...this.state,subscriptions:this.subscriptions};a.listener(n,e,o,t)})}getContextValues(){const n=j(this.props);return{chartId:-1,fullData:this.state.fullData,plotData:this.state.plotData,width:n.width,height:n.height,chartConfigs:this.state.chartConfigs,xScale:this.state.xScale,xAccessor:this.state.xAccessor,displayXAccessor:this.state.displayXAccessor,margin:this.props.margin,ratio:this.props.ratio,xAxisZoom:this.xAxisZoom,yAxisZoom:this.yAxisZoom,getCanvasContexts:this.getCanvasContexts,redraw:this.redraw,subscribe:this.subscribe,unsubscribe:this.unsubscribe,generateSubscriptionId:this.generateSubscriptionId,getMutableState:this.getMutableState,amIOnTop:this.amIOnTop,setCursorClass:this.setCursorClass,originalXExtents:this.state.originalXExtents}}shouldComponentUpdate(){return!this.panInProgress}render(){const{disableInteraction:n,disablePan:e,disableZoom:t,useCrossHairStyleCursor:a,onClick:o,onDoubleClick:i,height:r,width:l,margin:c=q.defaultProps.margin,className:u,zIndex:h=q.defaultProps.zIndex,defaultFocus:d,ratio:m,mouseMoveEvent:g}=this.props,{plotData:f,xScale:v,xAccessor:p,chartConfigs:C}=this.state,b=j(this.props),P=Ie(v,p,f),y=a&&P,S=zt();return E.jsx(Rt.Provider,{value:this.getContextValues(),children:E.jsxs("div",{style:{position:"relative",width:l,height:r},className:u,onClick:o,onDoubleClick:i,children:[E.jsx(me,{ref:this.canvasContainerRef,ratio:m,width:l,height:r,style:{height:r,zIndex:h,width:l}}),E.jsxs("svg",{className:u,width:l,height:r,style:{position:"absolute",zIndex:h+5},children:[S,E.jsxs("defs",{children:[E.jsx("clipPath",{id:"chart-area-clip",children:E.jsx("rect",{x:"0",y:"0",width:b.width,height:b.height})}),C.map((D,A)=>E.jsx("clipPath",{id:`chart-area-clip-${D.id}`,children:E.jsx("rect",{x:"0",y:"0",width:D.width,height:D.height})},A))]}),E.jsxs("g",{transform:`translate(${c.left+.5}, ${c.top+.5})`,children:[E.jsx(L,{ref:this.eventCaptureRef,useCrossHairStyleCursor:y,mouseMove:g&&P,zoom:!t&&P,pan:!e&&P,width:b.width,height:b.height,chartConfig:C,xScale:v,xAccessor:p,focus:d,disableInteraction:n,getAllPanConditions:this.getAllPanConditions,onContextMenu:this.handleContextMenu,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onDragStart:this.handleDragStart,onDrag:this.handleDrag,onDragComplete:this.handleDragEnd,onZoom:this.handleZoom,onPinchZoom:this.handlePinchZoom,onPinchZoomEnd:this.handlePinchZoomEnd,onPan:this.handlePan,onPanEnd:this.handlePanEnd}),E.jsx("g",{className:"react-financial-charts-avoid-interaction",children:this.props.children})]})]})]})})}};q.defaultProps={clamp:!1,className:"react-financial-charts",defaultFocus:!0,disablePan:!1,disableInteraction:!1,disableZoom:!1,flipXScale:!1,maintainPointsPerPixelOnResize:!0,margin:{top:0,right:40,bottom:40,left:0},minPointsPerPxThreshold:1/100,mouseMoveEvent:!0,postCalculator:re,padding:0,pointsPerPxThreshold:2,useCrossHairStyleCursor:!0,xAccessor:re,xExtents:[fe,Je],zIndex:1,zoomAnchor:wt,zoomMultiplier:1.1};let W=q;try{W.displayName="ChartCanvas",W.__docgenInfo={description:"",displayName:"ChartCanvas",props:{clamp:{defaultValue:{value:"false"},description:"",name:"clamp",required:!1,type:{name:'boolean | "left" | "right" | "both" | ((domain: [number, number], items: [number, number]) => [number, number]) | undefined'}},className:{defaultValue:{value:"react-financial-charts"},description:"",name:"className",required:!1,type:{name:"string | undefined"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"any[]"}},defaultFocus:{defaultValue:{value:"true"},description:"",name:"defaultFocus",required:!1,type:{name:"boolean | undefined"}},disableInteraction:{defaultValue:{value:"false"},description:"",name:"disableInteraction",required:!1,type:{name:"boolean | undefined"}},disablePan:{defaultValue:{value:"false"},description:"",name:"disablePan",required:!1,type:{name:"boolean | undefined"}},disableZoom:{defaultValue:{value:"false"},description:"",name:"disableZoom",required:!1,type:{name:"boolean | undefined"}},displayXAccessor:{defaultValue:null,description:"",name:"displayXAccessor",required:!1,type:{name:"((data: any) => TXAxis) | undefined"}},flipXScale:{defaultValue:{value:"false"},description:"",name:"flipXScale",required:!1,type:{name:"boolean | undefined"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},margin:{defaultValue:{value:"{ top: 0, right: 40, bottom: 40, left: 0 }"},description:"",name:"margin",required:!1,type:{name:"{ bottom: number; left: number; right: number; top: number; }"}},maintainPointsPerPixelOnResize:{defaultValue:{value:"true"},description:"",name:"maintainPointsPerPixelOnResize",required:!1,type:{name:"boolean | undefined"}},minPointsPerPxThreshold:{defaultValue:{value:"1 / 100"},description:"",name:"minPointsPerPxThreshold",required:!1,type:{name:"number | undefined"}},mouseMoveEvent:{defaultValue:{value:"true"},description:"",name:"mouseMoveEvent",required:!1,type:{name:"boolean | undefined"}},onLoadAfter:{defaultValue:null,description:"Called when panning left past the first data point.",name:"onLoadAfter",required:!1,type:{name:"((start: TXAxis, end: TXAxis) => void) | undefined"}},onLoadBefore:{defaultValue:null,description:"Called when panning right past the last data point.",name:"onLoadBefore",required:!1,type:{name:"((start: TXAxis, end: TXAxis) => void) | undefined"}},onClick:{defaultValue:null,description:"Click event handler.",name:"onClick",required:!1,type:{name:"MouseEventHandler<HTMLDivElement> | undefined"}},onDoubleClick:{defaultValue:null,description:"Double click event handler.",name:"onDoubleClick",required:!1,type:{name:"MouseEventHandler<HTMLDivElement> | undefined"}},padding:{defaultValue:{value:"0"},description:"",name:"padding",required:!1,type:{name:"number | { bottom: number; left: number; right: number; top: number; } | undefined"}},plotFull:{defaultValue:null,description:"",name:"plotFull",required:!1,type:{name:"boolean | undefined"}},pointsPerPxThreshold:{defaultValue:{value:"2"},description:"",name:"pointsPerPxThreshold",required:!1,type:{name:"number | undefined"}},postCalculator:{defaultValue:{value:"(d: any) => d"},description:"",name:"postCalculator",required:!1,type:{name:"((plotData: any[]) => any[]) | undefined"}},ratio:{defaultValue:null,description:"",name:"ratio",required:!0,type:{name:"number"}},seriesName:{defaultValue:null,description:"",name:"seriesName",required:!0,type:{name:"string"}},useCrossHairStyleCursor:{defaultValue:{value:"true"},description:"",name:"useCrossHairStyleCursor",required:!1,type:{name:"boolean | undefined"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},xAccessor:{defaultValue:{value:"identity as (data: any) => any"},description:"",name:"xAccessor",required:!1,type:{name:"(data: any) => TXAxis"}},xExtents:{defaultValue:{value:"[min, max] as any[]"},description:"",name:"xExtents",required:!1,type:{name:"((data: any[]) => [TXAxis, TXAxis]) | (TXAxis | ((data: any[]) => TXAxis))[]"}},xScale:{defaultValue:null,description:"",name:"xScale",required:!0,type:{name:"ScaleContinuousNumeric<number, number, never> | ScaleTime<number, number, never>"}},zIndex:{defaultValue:{value:"1"},description:"",name:"zIndex",required:!1,type:{name:"number | undefined"}},zoomAnchor:{defaultValue:{value:`<TData, TXAxis extends number | Date>(
    options: IZoomAnchorOptions<TData, TXAxis>,
) => {
    const { xScale, xAccessor, mouseXY, plotData } = options;
    const currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);
    return xAccessor(currentItem);
}`},description:"",name:"zoomAnchor",required:!1,type:{name:"((options: IZoomAnchorOptions<any, TXAxis>) => TXAxis) | undefined"}},zoomMultiplier:{defaultValue:{value:"1.1"},description:"",name:"zoomMultiplier",required:!1,type:{name:"number | undefined"}}}}}catch{}class pe extends x.Component{constructor(){super(...arguments),this.margin={left:0,right:40,top:0,bottom:24},this.xScaleProvider=gt().inputDateAccessor(n=>n.date),this.yExtents=n=>[n.high,n.low]}render(){const{clamp:n,data:e,disablePan:t=!1,disableZoom:a=!1,disableInteraction:o,height:i,ratio:r,width:l,zoomAnchor:c}=this.props,{margin:u,xScaleProvider:h}=this,{data:d,xScale:m,xAccessor:g,displayXAccessor:f}=h(e),v=g(d[d.length-1]),C=[g(d[Math.max(0,d.length-100)]),v];return x.createElement(lt,{clamp:n,height:i,ratio:r,width:l,margin:u,data:d,disableInteraction:o,disablePan:t,disableZoom:a,displayXAccessor:f,seriesName:"Data",xScale:m,xAccessor:g,xExtents:C,zoomAnchor:c},x.createElement(ct,{id:1,yExtents:this.yExtents},x.createElement(vt,null),x.createElement(ut,{ticks:6}),x.createElement(dt,{ticks:5})))}}const B=ft()(it()(rt()(pe)));try{pe.displayName="Interaction",pe.__docgenInfo={description:"",displayName:"Interaction",props:{clamp:{defaultValue:null,description:"",name:"clamp",required:!1,type:{name:"boolean | undefined"}},disableInteraction:{defaultValue:null,description:"",name:"disableInteraction",required:!1,type:{name:"boolean | undefined"}},disablePan:{defaultValue:null,description:"",name:"disablePan",required:!1,type:{name:"boolean | undefined"}},disableZoom:{defaultValue:null,description:"",name:"disableZoom",required:!1,type:{name:"boolean | undefined"}},zoomAnchor:{defaultValue:null,description:"",name:"zoomAnchor",required:!1,type:{name:"((options: any) => number | Date) | undefined"}}}}}catch{}try{componentDidMount.displayName="componentDidMount",componentDidMount.__docgenInfo={description:"Called immediately after a component is mounted. Setting state here will trigger re-rendering.",displayName:"componentDidMount",props:{}}}catch{}const $t={component:W,title:"Features/Interaction"},ee=()=>x.createElement(B,{clamp:!0}),te=()=>x.createElement(B,{disableInteraction:!0}),ne=()=>x.createElement(B,{disablePan:!0}),ae=()=>x.createElement(B,{disableZoom:!0}),se=()=>x.createElement(B,{zoomAnchor:ht}),oe=()=>x.createElement(B,{zoomAnchor:mt}),ie=()=>x.createElement(B,{zoomAnchor:pt});var Ae,Te,Ve;ee.parameters={...ee.parameters,docs:{...(Ae=ee.parameters)==null?void 0:Ae.docs,source:{originalSource:"() => <Interaction clamp />",...(Ve=(Te=ee.parameters)==null?void 0:Te.docs)==null?void 0:Ve.source}}};var qe,_e,Xe;te.parameters={...te.parameters,docs:{...(qe=te.parameters)==null?void 0:qe.docs,source:{originalSource:"() => <Interaction disableInteraction />",...(Xe=(_e=te.parameters)==null?void 0:_e.docs)==null?void 0:Xe.source}}};var ze,Ze,Re;ne.parameters={...ne.parameters,docs:{...(ze=ne.parameters)==null?void 0:ze.docs,source:{originalSource:"() => <Interaction disablePan />",...(Re=(Ze=ne.parameters)==null?void 0:Ze.docs)==null?void 0:Re.source}}};var Oe,Ne,ke;ae.parameters={...ae.parameters,docs:{...(Oe=ae.parameters)==null?void 0:Oe.docs,source:{originalSource:"() => <Interaction disableZoom />",...(ke=(Ne=ae.parameters)==null?void 0:Ne.docs)==null?void 0:ke.source}}};var Be,Fe,Ye;se.parameters={...se.parameters,docs:{...(Be=se.parameters)==null?void 0:Be.docs,source:{originalSource:"() => <Interaction zoomAnchor={mouseBasedZoomAnchor} />",...(Ye=(Fe=se.parameters)==null?void 0:Fe.docs)==null?void 0:Ye.source}}};var He,Le,je;oe.parameters={...oe.parameters,docs:{...(He=oe.parameters)==null?void 0:He.docs,source:{originalSource:"() => <Interaction zoomAnchor={lastVisibleItemBasedZoomAnchor} />",...(je=(Le=oe.parameters)==null?void 0:Le.docs)==null?void 0:je.source}}};var We,Ue,$e;ie.parameters={...ie.parameters,docs:{...(We=ie.parameters)==null?void 0:We.docs,source:{originalSource:"() => <Interaction zoomAnchor={rightDomainBasedZoomAnchor} />",...($e=(Ue=ie.parameters)==null?void 0:Ue.docs)==null?void 0:$e.source}}};const Gt=["clamp","disable","disablePan","disableZoom","zoomAnchorToMouse","zoomAnchorToLastVisible","zoomAnchorToBounds"];export{Gt as __namedExportsOrder,ee as clamp,$t as default,te as disable,ne as disablePan,ae as disableZoom,ie as zoomAnchorToBounds,oe as zoomAnchorToLastVisible,se as zoomAnchorToMouse};
