import{r as n}from"./index-CTzypqlY.js";import{w as M}from"./withOHLCData-BEr55ucm.js";import{b as C,r as g}from"./baseIndicator-qdS_KWkb.js";import{F as I}from"./defaultOptionsForComputation-CN7nWbKN.js";import{s as L}from"./slidingWindow-Zblwndst.js";import{p as y}from"./path-uFnBsLuY.js";import{m as P}from"./merge-WqXt2Bz7.js";import{w as N,m as T,n as z,o as O,X as k,Y as V,a as _}from"./withSize-Bqu-aQP_.js";import{S as X}from"./StraightLine-BDDeJkOw.js";import{d as Y}from"./discontinuousTimeScaleProvider-DjLVsG-0.js";import{e as $}from"./ema-CshB59i3.js";import{L as j}from"./LineSeries-5eeGgUw4.js";import{S as H}from"./SingleValueTooltip-CQ4GxCuA.js";import"./index-kspPnZk0.js";import"./functor-Bsi8uwFK.js";import"./jsx-runtime-D_zvdyIk.js";import"./ema-YsYnLjx4.js";import"./array-2GBN5xbU.js";import"./ToolTipTSpanLabel-D8pipyNG.js";function R(){let r=I;const e=o=>{const{sourcePath:a,volumePath:t}=r,i=y(a),d=y(t);return L().windowSize(2).accumulator(([p,m])=>(i(m)-i(p))*d(m))(o)};return e.undefinedLength=()=>2,e.options=o=>o===void 0?r:(r=Object.assign(Object.assign({},I),o),e),e}const E="ForceIndex";function D(){const r=C().type(E).accessor(t=>t.forceIndex),e=R(),o=P().algorithm(e).merge((t,i)=>{t.forceIndex=i}),a=(t,i={merge:!0})=>{if(i.merge){if(!r.accessor())throw new Error(`Set an accessor to ${E} before calculating`);return o(t)}return e(t)};return g(a,r,"id","accessor","stroke","fill","echo","type"),g(a,e,"options"),g(a,o,"merge","skipUndefined"),a}class h extends n.Component{constructor(){super(...arguments),this.margin={left:0,right:48,top:8,bottom:24},this.xScaleProvider=Y().inputDateAccessor(e=>e.date)}render(){const{data:e,height:o,ratio:a,width:t}=this.props,i=D().merge((s,f)=>{s.fi=f}).accessor(s=>s.fi),d=$().id(1).options({windowSize:13,sourcePath:"fi"}).merge((s,f)=>{s.fiEMA13=f}).accessor(s=>s.fiEMA13),x=d(i(e)),{data:c,xScale:p,xAccessor:m,displayXAccessor:F}=this.xScaleProvider(x),u=d.accessor(),A=m(c[c.length-1]),v=[m(c[Math.max(0,c.length-100)]),A];return n.createElement(z,{height:o,ratio:a,width:t,margin:this.margin,data:c,displayXAccessor:F,seriesName:"Data",xScale:p,xAccessor:m,xExtents:v},n.createElement(O,{id:1,yExtents:u},n.createElement(k,null),n.createElement(V,{tickFormat:_(".2s")}),n.createElement(j,{yAccessor:u}),n.createElement(X,{yValue:0,lineDash:"ShortDash2"}),n.createElement(H,{yAccessor:u,yLabel:"ForceIndex (13)",yDisplayFormat:_(".4s"),origin:[8,8]})))}}const B=M()(N()(T()(h)));try{h.displayName="ForceIndicator",h.__docgenInfo={description:"",displayName:"ForceIndicator",props:{}}}catch{}try{componentDidMount.displayName="componentDidMount",componentDidMount.__docgenInfo={description:"Called immediately after a component is mounted. Setting state here will trigger re-rendering.",displayName:"componentDidMount",props:{}}}catch{}const pe={title:"Visualization/Indicator/Force Index",component:D,parameters:{componentSubtitle:`The Force Index is an indicator that uses price
        and volume to assess the power behind a move or identify possible
        turning points.`}},l=()=>n.createElement(B,null);var S,b,w;l.parameters={...l.parameters,docs:{...(S=l.parameters)==null?void 0:S.docs,source:{originalSource:"() => <ForceIndicator />",...(w=(b=l.parameters)==null?void 0:b.docs)==null?void 0:w.source}}};const ue=["basic"];export{ue as __namedExportsOrder,l as basic,pe as default};
