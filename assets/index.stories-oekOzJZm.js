import{r as p}from"./index-CTzypqlY.js";import{w as H}from"./withOHLCData-BEr55ucm.js";import{n as O,c as R,s as V,u as X,b as j,d as B,e as G,f as J,t as K,a as P}from"./timeFormat-CUo27pkq.js";import{v as Q,x as W,u as U,y as D,z as Z,a as Y,A as $,B as tt,D as et,E as at,w as rt,m as nt,n as ot,o as st,X as ct,Y as it}from"./withSize-Bqu-aQP_.js";import{C as lt}from"./CandlestickSeries-CTmIVn2R.js";import"./jsx-runtime-D_zvdyIk.js";import"./group-CTbjIu5X.js";import"./index-kspPnZk0.js";import"./barWidth-H00B5QnB.js";function k(t){return Math.log(t)}function w(t){return Math.exp(t)}function ut(t){return-Math.log(-t)}function mt(t){return-Math.exp(-t)}function pt(t){return isFinite(t)?+("1e"+t):t<0?0:t}function dt(t){return t===10?pt:t===Math.E?Math.exp:e=>Math.pow(t,e)}function ft(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function C(t){return(e,l)=>-t(-e,l)}function ht(t){const e=t(k,w),l=e.domain;let n=10,u,s;function S(){return u=ft(n),s=dt(n),l()[0]<0?(u=C(u),s=C(s),t(ut,mt)):t(k,w),e}return e.base=function(a){return arguments.length?(n=+a,S()):n},e.domain=function(a){return arguments.length?(l(a),S()):l()},e.ticks=a=>{const r=l();let i=r[0],c=r[r.length-1];const d=c<i;d&&([i,c]=[c,i]);let o=u(i),h=u(c),m,f;const M=a==null?10:+a;let g=[];if(!(n%1)&&h-o<M){if(o=Math.floor(o),h=Math.ceil(h),i>0){for(;o<=h;++o)for(m=1;m<n;++m)if(f=o<0?m/s(-o):m*s(o),!(f<i)){if(f>c)break;g.push(f)}}else for(;o<=h;++o)for(m=n-1;m>=1;--m)if(f=o>0?m/s(-o):m*s(o),!(f<i)){if(f>c)break;g.push(f)}g.length*2<M&&(g=D(i,c,M))}else g=D(o,h,Math.min(h-o,M)).map(s);return d?g.reverse():g},e.tickFormat=(a,r)=>{if(a==null&&(a=10),r==null&&(r=n===10?"s":","),typeof r!="function"&&(!(n%1)&&(r=Z(r)).precision==null&&(r.trim=!0),r=Y(r)),a===1/0)return r;const i=Math.max(1,n*a/e.ticks().length);return c=>{let d=c/s(Math.round(u(c)));return d*n<n-.5&&(d*=n),d<=i?r(c):""}},e.nice=()=>l(O(l(),{floor:a=>s(Math.floor(u(a))),ceil:a=>s(Math.ceil(u(a)))})),e}function q(){const t=ht(Q()).domain([1,10]);return t.copy=()=>W(t,q()).base(t.base()),U.apply(t,arguments),t}function gt(){return U.apply(R(J,G,at,B,et,tt,j,X,V,$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}class yt extends p.Component{constructor(){super(...arguments),this.margin={left:0,right:48,top:0,bottom:24},this.yExtents=e=>[e.high,e.low]}render(){const{data:e,height:l,ratio:n,width:u,xScale:s=K(),yScale:S}=this.props,a=d=>d.date,r=a(e[e.length-1]),c=[a(e[Math.max(0,e.length-100)]),r];return p.createElement(ot,{height:l,ratio:n,width:u,margin:this.margin,data:e,seriesName:"Data",xScale:s,xAccessor:a,xExtents:c},p.createElement(st,{id:1,yExtents:this.yExtents,yScale:S},p.createElement(lt,null),p.createElement(ct,{tickFormat:P}),p.createElement(it,{tickFormat:Y(".2f")})))}}const y=H()(rt()(nt()(yt)));try{y.displayName="Daily",y.__docgenInfo={description:"",displayName:"Daily",props:{xScale:{defaultValue:null,description:"",name:"xScale",required:!1,type:{name:"ScaleTime<number, number, never> | undefined"}},yScale:{defaultValue:null,description:"",name:"yScale",required:!1,type:{name:"ScaleContinuousNumeric<number, number, never> | undefined"}}}}}catch{}try{componentDidMount.displayName="componentDidMount",componentDidMount.__docgenInfo={description:"Called immediately after a component is mounted. Setting state here will trigger re-rendering.",displayName:"componentDidMount",props:{}}}catch{}const vt={title:"Features/Scales"},x=()=>p.createElement(y,null),E=()=>p.createElement(y,{xScale:gt()}),_=()=>p.createElement(y,{yScale:q()});var v,F,N;x.parameters={...x.parameters,docs:{...(v=x.parameters)==null?void 0:v.docs,source:{originalSource:"() => <Daily />",...(N=(F=x.parameters)==null?void 0:F.docs)==null?void 0:N.source}}};var T,b,A;E.parameters={...E.parameters,docs:{...(T=E.parameters)==null?void 0:T.docs,source:{originalSource:"() => <Daily xScale={scaleUtc()} />",...(A=(b=E.parameters)==null?void 0:b.docs)==null?void 0:A.source}}};var I,L,z;_.parameters={..._.parameters,docs:{...(I=_.parameters)==null?void 0:I.docs,source:{originalSource:"() => <Daily yScale={scaleLog()} />",...(z=(L=_.parameters)==null?void 0:L.docs)==null?void 0:z.source}}};const Ft=["continuousScale","utcScale","logScale"];export{Ft as __namedExportsOrder,x as continuousScale,vt as default,_ as logScale,E as utcScale};
