import{r as j}from"./index-CTzypqlY.js";import{s as H}from"./withSize-Bqu-aQP_.js";var L={},E={},T=34,d=10,A=13;function _(t){return new Function("d","return {"+t.map(function(a,r){return JSON.stringify(a)+": d["+r+'] || ""'}).join(",")+"}")}function M(t,a){var r=_(t);return function(n,u){return a(r(n),u,t)}}function U(t){var a=Object.create(null),r=[];return t.forEach(function(n){for(var u in n)u in a||r.push(a[u]=u)}),r}function c(t,a){var r=t+"",n=r.length;return n<a?new Array(a-n+1).join(0)+r:r}function k(t){return t<0?"-"+c(-t,6):t>9999?"+"+c(t,6):c(t,4)}function S(t){var a=t.getUTCHours(),r=t.getUTCMinutes(),n=t.getUTCSeconds(),u=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":k(t.getUTCFullYear())+"-"+c(t.getUTCMonth()+1,2)+"-"+c(t.getUTCDate(),2)+(u?"T"+c(a,2)+":"+c(r,2)+":"+c(n,2)+"."+c(u,3)+"Z":n?"T"+c(a,2)+":"+c(r,2)+":"+c(n,2)+"Z":r||a?"T"+c(a,2)+":"+c(r,2)+"Z":"")}function Y(t){var a=new RegExp('["'+t+`
\r]`),r=t.charCodeAt(0);function n(e,o){var f,s,i=u(e,function(p,h){if(f)return f(p,h-1);s=p,f=o?M(p,o):_(p)});return i.columns=s||[],i}function u(e,o){var f=[],s=e.length,i=0,p=0,h,w=s<=0,l=!1;e.charCodeAt(s-1)===d&&--s,e.charCodeAt(s-1)===A&&--s;function R(){if(w)return E;if(l)return l=!1,L;var v,D=i,m;if(e.charCodeAt(D)===T){for(;i++<s&&e.charCodeAt(i)!==T||e.charCodeAt(++i)===T;);return(v=i)>=s?w=!0:(m=e.charCodeAt(i++))===d?l=!0:m===A&&(l=!0,e.charCodeAt(i)===d&&++i),e.slice(D+1,v-1).replace(/""/g,'"')}for(;i<s;){if((m=e.charCodeAt(v=i++))===d)l=!0;else if(m===A)l=!0,e.charCodeAt(i)===d&&++i;else if(m!==r)continue;return e.slice(D,v)}return w=!0,e.slice(D,s)}for(;(h=R())!==E;){for(var g=[];h!==L&&h!==E;)g.push(h),h=R();o&&(g=o(g,p++))==null||f.push(g)}return f}function N(e,o){return e.map(function(f){return o.map(function(s){return C(f[s])}).join(t)})}function I(e,o){return o==null&&(o=U(e)),[o.map(C).join(t)].concat(N(e,o)).join(`
`)}function b(e,o){return o==null&&(o=U(e)),N(e,o).join(`
`)}function F(e){return e.map(O).join(`
`)}function O(e){return e.map(C).join(t)}function C(e){return e==null?"":e instanceof Date?S(e):a.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:n,parseRows:u,format:I,formatBody:b,formatRows:F,formatRow:O,formatValue:C}}var B=Y("	"),P=B.parse;const Z=H("%Y-%m-%d"),V=()=>t=>{const a=Z(t.date);a===null?t.date=new Date(Number(t.date)):t.date=new Date(a);for(const r in t)r!=="date"&&Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=+t[r]);return t};function y(t="DAILY"){return a=>class extends j.Component{constructor(n){super(n),this.state={message:`Loading ${t} data...`}}componentDidMount(){fetch(`https://raw.githubusercontent.com/reactivemarkets/react-financial-charts/master/packages/stories/src/data/${t}.tsv`).then(n=>n.text()).then(n=>P(n,V())).then(n=>{this.setState({data:n})}).catch(()=>{this.setState({message:"Failed to fetch data."})})}render(){const{data:n,message:u}=this.state;return n===void 0?j.createElement("div",{className:"center"},u):j.createElement(a,{...this.props,data:n})}}}try{y.displayName="withOHLCData",y.__docgenInfo={description:"",displayName:"withOHLCData",props:{}}}catch{}export{y as w};
